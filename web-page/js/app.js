let canvas,video,ctx,imgData;function videolink(){navigator.getMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,navigator.mediaDevices.getUserMedia({video:!0,audio:!1}).then(e=>{video.srcObject=e,video.play(),canvas.style.display="block",setInterval((function(){Photo()}),1e3)}).catch(()=>{console.log("No camera access!")})}function Photo(){!async function(){const e=await bodyPix.load({architecture:"MobileNetV1",outputStride:16,multiplier:.75,quantBytes:2}),o=await e.segmentPersonParts(video,{flipHorizontal:!1,internalResolution:"medium",segmentationThreshold:.7});let t=[],a=[];for(let e=0;e<canvas.width*canvas.height;e++)pix=o.data[e],pix>1&pix<10|pix>11?o.data[e]=-1:0==pix|1==pix?(o.data[e]=0,t.push(e)):10==pix|11==pix&&(o.data[e]=10,a.push(e));if(console.log("face:"),console.log(t),console.log("palms:"),console.log(a),a.length<t.length){const e=n(t,a);console.log(e),"found!"==e&&audio.play()}else{const e=n(a,t);console.log(e),"found!"==e&&audio.play()}function n(e,o){let t,a,n,i;console.log("Began..."),i=10,n=e.length;for(let i=0;i<o.length;i++){if(t=o[i],a=parseInt(n/2),Math.abs(t-e[0])<10)return"found!";if(Math.abs(t-e[n-1])<10)return"found!";for(;0!=a&&a!=n-1;){if(Math.abs(t-e[a])<10)return"found!";if(t<e[a])a=parseInt(a/2);else if(t>e[a]&&(a+=parseInt((n-a)/2),e[a]>t))break}}return"NOTfound!"}const i=bodyPix.toColoredPartMask(o);bodyPix.drawMask(canvas,video,i,.7,0,!1),console.log(o)}()}canvas=document.getElementById("canvas"),video=document.getElementById("video"),audio=document.getElementById("audio"),canvas.getContext("2d")?(ctx=canvas.getContext("2d"),videolink()):alert('You browser does not support canvas.getContext("2d")'),setInterval(Photo(),60);