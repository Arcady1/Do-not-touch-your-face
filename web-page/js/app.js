let canvas,video,ctx,imgData;function videolink(){navigator.getMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,navigator.mediaDevices.getUserMedia({video:!0,audio:!1}).then(e=>{video.srcObject=e,video.play(),canvas.style.display="block",setInterval((function(){Photo()}),1e3)}).catch(()=>{console.log("No camera access!")})}function Photo(){!async function(){const e=await bodyPix.load({architecture:"MobileNetV1",outputStride:16,multiplier:.75,quantBytes:2}),t=await e.segmentPersonParts(video,{flipHorizontal:!1,internalResolution:"medium",segmentationThreshold:.7});let o=[],a=[];for(let e=0;e<canvas.width*canvas.height;e++)pix=t.data[e],pix>1&pix<10|pix>11?t.data[e]=-1:0==pix|1==pix?(t.data[e]=0,o.push(e)):10==pix|11==pix&&(t.data[e]=10,a.push(e));if(console.log("face:"),console.log(o),console.log("palms:"),console.log(a),a.length<o.length){const e=await n(o,a);console.log(e),"found!"==e&&audio.play()}else{const e=await n(a,o);console.log(e),"found!"==e&&audio.play()}function n(e,t){let o,a,n,i;console.log("Began..."),i=10,n=e.length;for(let i=0;i<t.length;i++){if(o=t[i],a=parseInt(n/2),Math.abs(o-e[0])<10)return"found!";if(Math.abs(o-e[n-1])<10)return"found!";for(;0!=a&&a!=n-1;){if(Math.abs(o-e[a])<10)return"found!";if(o<e[a])a=parseInt(a/2);else if(o>e[a]&&(a+=parseInt((n-a)/2),e[a]>o))break}}return"NOTfound!"}const i=bodyPix.toColoredPartMask(t);bodyPix.drawMask(canvas,video,i,.7,0,!1),console.log(t)}()}canvas=document.getElementById("canvas"),video=document.getElementById("video"),audio=document.getElementById("audio"),canvas.getContext("2d")?(ctx=canvas.getContext("2d"),videolink()):alert('You browser does not support canvas.getContext("2d")'),setInterval(Photo(),60);